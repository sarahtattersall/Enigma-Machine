Headers should always be full of comments, basic rule of commenting C++, comment on how to use at declaration, comment on implementation deatail at definition.
In general declarations go in headers, which means headers get the most comments.
Never drop the names of parameters in headers, they are the best source of documentation. If you ignore it, you end up with
int doSometing(int,int,bool,int,bool,bool) and you woun't have the faintest idea how to use it.

Fundamental design is wrong
external looping vs object chaining
machine could be interchangable with any Mapper
UI should never be mixed in with operational functionality
